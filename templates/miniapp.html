<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–ö–æ—Ä–æ–ª–µ–≤—Å–∫–∞—è –ë–∏—Ä–∂–∞</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="/static/miniapp.css">
</head>
<body>
    <!-- Auth Modal -->
    <div id="auth-modal" class="modal">
        <div class="modal-content auth-modal-content">
            <h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</h2>
            <p class="auth-description">–í—ã–±–µ—Ä–∏—Ç–µ –Ω–∏–∫–Ω–µ–π–º –¥–ª—è –∏–≥—Ä—ã –∏ —Ñ–æ—Ç–æ –ø—Ä–æ—Ñ–∏–ª—è</p>
            
            <div class="auth-photo-section">
                <div class="photo-preview" id="photo-preview">
                    <img id="preview-image" src="" alt="–§–æ—Ç–æ –ø—Ä–æ—Ñ–∏–ª—è" style="display: none;">
                    <div id="photo-placeholder">üì∑</div>
                </div>
                <button class="photo-btn" onclick="useTelegramPhoto()">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–æ—Ç–æ –∏–∑ Telegram</button>
            </div>
            
            <div class="auth-input-section">
                <label for="nickname-input">–ù–∏–∫–Ω–µ–π–º:</label>
                <input type="text" id="nickname-input" class="nickname-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∏–∫–Ω–µ–π–º" maxlength="20">
            </div>
            
            <button class="confirm-btn" onclick="saveAuthData()">–ù–∞—á–∞—Ç—å –∏–≥—Ä—É</button>
        </div>
    </div>

    <div class="container" id="main-container" style="display: none;">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo-container">
                    <img src="/static/images/logo.png" alt="–õ–æ–≥–æ—Ç–∏–ø" class="logo">
                </div>
                <div class="header-text">
                    <h1>–ö–æ—Ä–æ–ª–µ–≤—Å–∫–∞—è –ë–∏—Ä–∂–∞</h1>
                    <h2>–ë—É—Ä–≥—É–Ω–¥–∏—è. –¢–æ–≥—É—á–∏–Ω</h2>
                    <div class="round-info">
                        <span>–†–∞—É–Ω–¥: <strong id="current-round">1</strong></span>
                    </div>
                </div>
            </div>
        </header>

        <!-- Player Info -->
        <div class="player-info">
            <div class="player-avatar-section">
                <img id="player-avatar" src="" alt="–ê–≤–∞—Ç–∞—Ä" class="player-avatar" style="display: none;">
                <div id="player-avatar-placeholder" class="player-avatar-placeholder">üë§</div>
            </div>
            <div class="player-details">
                <div class="player-name" id="player-name">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
                <div class="player-balance">
                    <span class="label">–ë–∞–ª–∞–Ω—Å:</span>
                    <span class="value" id="player-money">0</span> <span class="currency">–º–æ–Ω–µ—Ç</span>
                </div>
            </div>
        </div>

        <!-- Resources Section -->
        <section class="section">
            <h2>–ú–æ–∏ —Ä–µ—Å—É—Ä—Å—ã</h2>
            <div class="resources-grid" id="resources-grid">
                <!-- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ JS -->
            </div>
        </section>

        <!-- Buildings Section -->
        <section class="section">
            <h2>–ú–æ–∏ –æ–±—ä–µ–∫—Ç—ã</h2>
            <div class="buildings-list" id="buildings-list">
                <!-- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ JS -->
            </div>
        </section>

        <!-- Market Prices Section -->
        <section class="section">
            <h2>–¶–µ–Ω—ã –Ω–∞ –±–∏—Ä–∂–µ</h2>
            <div class="prices-list" id="prices-list">
                <!-- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ JS -->
            </div>
        </section>

        <!-- Actions Section -->
        <section class="section">
            <h2>–î–µ–π—Å—Ç–≤–∏—è</h2>
            <div class="actions">
                <button class="action-btn" onclick="showBuyResourceModal()">–ö—É–ø–∏—Ç—å —Ä–µ—Å—É—Ä—Å</button>
                <button class="action-btn" onclick="showSellResourceModal()">–ü—Ä–æ–¥–∞—Ç—å —Ä–µ—Å—É—Ä—Å</button>
                <button class="action-btn" onclick="showBuildModal()">–ü–æ—Å—Ç—Ä–æ–∏—Ç—å –æ–±—ä–µ–∫—Ç</button>
                <button class="action-btn" onclick="showSellBuildingModal()">–ü—Ä–æ–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç</button>
            </div>
        </section>
    </div>

    <!-- Modals -->
    <!-- Buy Resource Modal -->
    <div id="buy-resource-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('buy-resource-modal')">&times;</span>
            <h3>–ö—É–ø–∏—Ç—å —Ä–µ—Å—É—Ä—Å</h3>
            <div id="buy-resource-options"></div>
        </div>
    </div>

    <!-- Sell Resource Modal -->
    <div id="sell-resource-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('sell-resource-modal')">&times;</span>
            <h3>–ü—Ä–æ–¥–∞—Ç—å —Ä–µ—Å—É—Ä—Å</h3>
            <div id="sell-resource-options"></div>
        </div>
    </div>

    <!-- Build Modal -->
    <div id="build-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('build-modal')">&times;</span>
            <h3>–ü–æ—Å—Ç—Ä–æ–∏—Ç—å –æ–±—ä–µ–∫—Ç</h3>
            <div id="build-options"></div>
        </div>
    </div>

    <!-- Sell Building Modal -->
    <div id="sell-building-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('sell-building-modal')">&times;</span>
            <h3>–ü—Ä–æ–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç</h3>
            <div id="sell-building-options"></div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay">
        <div class="spinner"></div>
    </div>

    <!-- Toast Notifications -->
    <div id="toast" class="toast"></div>

    <script src="/static/miniapp.js"></script>
</body>
</html>

